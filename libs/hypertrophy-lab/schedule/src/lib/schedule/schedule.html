<div
  class="px-6 pt-6 pb-4 flex flex-col gap-4 bg-surface border border-gray-soft rounded-lg shadow-xl"
>
  <div class="flex items-start gap-4">
    <div class="flex flex-col gap-1">
      <div class="flex items-center gap-2">
        <lib-icon [icon]="'calendar-liner'" class="text-primary"></lib-icon>
        <h1 class="text-heading-semibold text-white">Schedule</h1>
      </div>
      <p class="text-sm text-nowrap text-gray-text">{{today | date: 'fullDate'}}</p>
    </div>
  </div>
  <!-- <lib-button [size]="'lg'" [appearance]="'outline'">Today</lib-button> -->
  <lib-button [size]="'lg'" [appearance]="'outline'" [fillContainer]="true">
    Today
  </lib-button>
  <lib-button theme="gradient-primary" [size]="'lg'" [fillContainer]="true">
    <lib-icon [icon]="'plus-solid'" left [iconSize]="16"></lib-icon>
    Add Schedule
  </lib-button>
  <div class="grid grid-cols-2 gap-2">
    @for (pill of pillData; track $index) {
    <lib-pill>
      <lib-icon
        [class]="pill.iconClass"
        [fillContainer]="false"
        [iconSize]="20"
        [icon]="pill.icon"
      ></lib-icon>
      <span>{{pill.text | titlecase }}</span>
    </lib-pill>
    }
  </div>
</div>

<lib-surface-card
  cardTitle="Today's Routine"
  titleSize="lg"
  [cardTitleIcon]="'clock-solid'"
  cardTitleIconClass="text-primary"
>
  @if (dayOverview.hasValue()) { @for (section of dayOverview.value().sections; track
  $index) { @if (section.items.length) {

  <hl-day-part-overview [data]="section">
    <div dayPartOverviewHeader class="flex items-center gap-3">
      <div class="flex items-center gap-2">
        <lib-icon class="text-orange-400" [icon]="'sunrise-liner'"></lib-icon>
        <span>{{section.timeOfDay | titlecase}}</span>
      </div>
      <lib-tag [rounded]="true" theme="white" size="lg">
        {{section.items.length}} {{section.items.length > 1 ? 'supplements' :
        'supplement'}}
      </lib-tag>
    </div>
    @for (item of section.items; track $index) {
    <hl-intake-action-card [cardData]="item"></hl-intake-action-card>
    }
  </hl-day-part-overview>
  } } } @else if (dayOverview.isLoading()) {
  <lib-bouncing-loader></lib-bouncing-loader>
  }
</lib-surface-card>

<lib-surface-card
  cardTitle="Weekly Overview"
  cardTitleIcon="calendar-liner"
  cardTitleIconClass="text-primary"
>
  <lib-date-range-picker></lib-date-range-picker>
</lib-surface-card>
